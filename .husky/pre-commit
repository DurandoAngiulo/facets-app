#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo 'Running pre-commit checks:'

# Check Prettier standards
npm run check-format ||
  (
    echo 'ğŸ–Œï¸ Prettier check failed. Please run "npm run format", add changes, and try to commit again.'
    false
  )

# Check ESLint standards
npm run check-lint ||
  (
    echo 'ğŸš¨ ESLint check failed. Review and address the listed issues, add changes, and attempt the commit again.'
    false
  )

# Check TypeScript standards
npm run check-types ||
  (
    echo 'ğŸ§ TypeScript check failed. Make the necessary corrections as indicated above.'
    false
  )

# If all checks pass, proceed with the build
echo 'âœ… All checks passed. Building project...'

npm run build ||
  (
    echo 'âŒ Build failed. Please review the errors above and resolve them.'
    false
  )

# If everything passes, continue with the commit
echo 'âœ… All checks passed. Committing changes...'
